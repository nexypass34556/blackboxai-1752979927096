"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addWinner: function() { return /* binding */ addWinner; },\n/* harmony export */   canUserSpin: function() { return /* binding */ canUserSpin; },\n/* harmony export */   getCurrentUser: function() { return /* binding */ getCurrentUser; },\n/* harmony export */   getRecentWinners: function() { return /* binding */ getRecentWinners; },\n/* harmony export */   getUserInvitationStats: function() { return /* binding */ getUserInvitationStats; },\n/* harmony export */   getUserInvitations: function() { return /* binding */ getUserInvitations; },\n/* harmony export */   getUserProfile: function() { return /* binding */ getUserProfile; },\n/* harmony export */   processInvitationCode: function() { return /* binding */ processInvitationCode; },\n/* harmony export */   recordSpin: function() { return /* binding */ recordSpin; },\n/* harmony export */   resetDailySpins: function() { return /* binding */ resetDailySpins; },\n/* harmony export */   signOut: function() { return /* binding */ signOut; },\n/* harmony export */   supabase: function() { return /* binding */ supabase; },\n/* harmony export */   updateUserProfile: function() { return /* binding */ updateUserProfile; }\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(app-pages-browser)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Función para crear un cliente mock cuando Supabase no está configurado\nconst createMockClient = ()=>{\n    const mockClient = {\n        auth: {\n            getUser: ()=>Promise.resolve({\n                    data: {\n                        user: null\n                    },\n                    error: null\n                }),\n            getSession: ()=>Promise.resolve({\n                    data: {\n                        session: null\n                    },\n                    error: null\n                }),\n            signUp: ()=>Promise.resolve({\n                    data: {\n                        user: null,\n                        session: null\n                    },\n                    error: {\n                        message: \"Supabase not configured\"\n                    }\n                }),\n            signInWithPassword: ()=>Promise.resolve({\n                    data: {\n                        user: null,\n                        session: null\n                    },\n                    error: {\n                        message: \"Supabase not configured\"\n                    }\n                }),\n            signOut: ()=>Promise.resolve({\n                    error: null\n                }),\n            onAuthStateChange: ()=>({\n                    data: {\n                        subscription: {\n                            unsubscribe: ()=>{}\n                        }\n                    }\n                })\n        },\n        from: ()=>({\n                select: ()=>({\n                        eq: ()=>({\n                                single: ()=>Promise.resolve({\n                                        data: null,\n                                        error: {\n                                            message: \"Supabase not configured\"\n                                        }\n                                    })\n                            })\n                    }),\n                insert: ()=>({\n                        select: ()=>({\n                                single: ()=>Promise.resolve({\n                                        data: null,\n                                        error: {\n                                            message: \"Supabase not configured\"\n                                        }\n                                    })\n                            })\n                    }),\n                update: ()=>({\n                        eq: ()=>({\n                                select: ()=>({\n                                        single: ()=>Promise.resolve({\n                                                data: null,\n                                                error: {\n                                                    message: \"Supabase not configured\"\n                                                }\n                                            })\n                                    })\n                            })\n                    }),\n                order: ()=>({\n                        limit: ()=>Promise.resolve({\n                                data: [],\n                                error: null\n                            })\n                    })\n            })\n    };\n    return mockClient;\n};\nconst supabaseUrl = \"https://ocjdvtjjindudvbnjqtc.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9jamR2dGpqaW5kdWR2Ym5qcXRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NjEzODEsImV4cCI6MjA2ODUzNzM4MX0.2Jetf_e-ESGUv0VbvvNrDLrlQJjAM1TsSDSCIagnrwk\";\nlet supabase;\nif (supabaseUrl && supabaseAnonKey && supabaseUrl !== \"your_supabase_project_url_here\" && supabaseAnonKey !== \"your_supabase_anon_key_here\") {\n    supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n} else {\n    if (true) {\n        console.warn(\"⚠️ Supabase not configured. Using mock client. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in .env.local\");\n    }\n    supabase = createMockClient();\n}\n\n// Funciones de utilidad para Supabase\nconst getCurrentUser = async ()=>{\n    const { data: { user } } = await supabase.auth.getUser();\n    return user;\n};\nconst signOut = async ()=>{\n    const { error } = await supabase.auth.signOut();\n    if (error) throw error;\n};\nconst getUserProfile = async (userId)=>{\n    const { data, error } = await supabase.from(\"profiles\").select(\"*\").eq(\"id\", userId).single();\n    if (error) throw error;\n    return data;\n};\nconst updateUserProfile = async (userId, updates)=>{\n    const { data, error } = await supabase.from(\"profiles\").update(updates).eq(\"id\", userId).select().single();\n    if (error) throw error;\n    return data;\n};\nconst canUserSpin = async (userId)=>{\n    const { data: profile, error } = await supabase.from(\"profiles\").select(\"spins_used_today, last_spin_at, bonus_spins\").eq(\"id\", userId).single();\n    if (error) throw error;\n    const now = new Date();\n    const lastSpin = profile.last_spin_at ? new Date(profile.last_spin_at) : null;\n    const spinsUsed = profile.spins_used_today || 0;\n    const bonusSpins = profile.bonus_spins || 0;\n    const totalAvailableSpins = 2 + bonusSpins;\n    // Verificar límite total (2 giros base + giros bonus)\n    if (spinsUsed >= totalAvailableSpins) {\n        return {\n            canSpin: false,\n            reason: \"Has usado todos tus giros disponibles (\".concat(totalAvailableSpins, \")\"),\n            nextSpinAt: null,\n            remainingSpins: 0,\n            bonusSpins: bonusSpins\n        };\n    }\n    // Verificar si han pasado 2 horas desde el último giro (solo si ya ha girado)\n    if (lastSpin && spinsUsed > 0) {\n        const timeDiff = now.getTime() - lastSpin.getTime();\n        const hoursDiff = timeDiff / (1000 * 60 * 60);\n        if (hoursDiff < 2) {\n            return {\n                canSpin: false,\n                reason: \"Debes esperar 2 horas entre giros. Giros restantes: \".concat(totalAvailableSpins - spinsUsed),\n                nextSpinAt: new Date(lastSpin.getTime() + 2 * 60 * 60 * 1000),\n                remainingSpins: totalAvailableSpins - spinsUsed,\n                bonusSpins: bonusSpins\n            };\n        }\n    }\n    return {\n        canSpin: true,\n        reason: null,\n        nextSpinAt: null,\n        remainingSpins: totalAvailableSpins - spinsUsed,\n        bonusSpins: bonusSpins\n    };\n};\nconst recordSpin = async (userId, prizeType, prizeLabel)=>{\n    // Primero obtener el perfil actual\n    const { data: profile, error: profileError } = await supabase.from(\"profiles\").select(\"spins_used_today, bonus_spins\").eq(\"id\", userId).single();\n    if (profileError) throw profileError;\n    const currentSpins = profile.spins_used_today || 0;\n    const bonusSpins = profile.bonus_spins || 0;\n    // Insertar el registro del giro\n    const { data, error } = await supabase.from(\"spins\").insert({\n        user_id: userId,\n        prize_type: prizeType,\n        prize_label: prizeLabel,\n        created_at: new Date().toISOString()\n    }).select().single();\n    if (error) throw error;\n    // Si se usó un giro bonus, reducir los bonus spins\n    let updateData = {\n        last_spin_at: new Date().toISOString(),\n        spins_used_today: currentSpins + 1\n    };\n    // Si ya usó los 2 giros base y está usando bonus\n    if (currentSpins >= 2 && bonusSpins > 0) {\n        updateData.bonus_spins = bonusSpins - 1;\n    }\n    // Actualizar el perfil del usuario\n    await supabase.from(\"profiles\").update(updateData).eq(\"id\", userId);\n    return data;\n};\nconst getRecentWinners = async function() {\n    let limit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 10;\n    const { data, error } = await supabase.from(\"winners\").select(\"\\n      *,\\n      profiles (\\n        username,\\n        avatar_url\\n      )\\n    \").order(\"created_at\", {\n        ascending: false\n    }).limit(limit);\n    if (error) throw error;\n    return data;\n};\nconst addWinner = async (userId, prizeType, prizeLabel)=>{\n    const { data, error } = await supabase.from(\"winners\").insert({\n        user_id: userId,\n        prize_type: prizeType,\n        prize_label: prizeLabel,\n        created_at: new Date().toISOString()\n    }).select().single();\n    if (error) throw error;\n    return data;\n};\n// Funciones para el sistema de invitaciones\nconst processInvitationCode = async (userId, invitationCode)=>{\n    const { data, error } = await supabase.rpc(\"process_invitation\", {\n        invitee_id: userId,\n        invitation_code_input: invitationCode\n    });\n    if (error) throw error;\n    return data;\n};\nconst getUserInvitationStats = async (userId)=>{\n    const { data, error } = await supabase.from(\"profiles\").select(\"invitation_code, total_invites, bonus_spins\").eq(\"id\", userId).single();\n    if (error) throw error;\n    return data;\n};\nconst getUserInvitations = async (userId)=>{\n    const { data, error } = await supabase.from(\"invitations\").select(\"\\n      *,\\n      profiles!invitations_invitee_id_fkey (\\n        username,\\n        created_at\\n      )\\n    \").eq(\"inviter_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    if (error) throw error;\n    return data;\n};\nconst resetDailySpins = async ()=>{\n    // Esta función se puede llamar diariamente para resetear los giros\n    const { error } = await supabase.from(\"profiles\").update({\n        spins_used_today: 0\n    }).neq(\"id\", \"00000000-0000-0000-0000-000000000000\") // Actualizar todos\n    ;\n    if (error) throw error;\n    return true;\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0U7QUFFcEUseUVBQXlFO0FBQ3pFLE1BQU1DLG1CQUFtQjtJQUN2QixNQUFNQyxhQUFhO1FBQ2pCQyxNQUFNO1lBQ0pDLFNBQVMsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO29CQUFFQyxNQUFNO3dCQUFFQyxNQUFNO29CQUFLO29CQUFHQyxPQUFPO2dCQUFLO1lBQ25FQyxZQUFZLElBQU1MLFFBQVFDLE9BQU8sQ0FBQztvQkFBRUMsTUFBTTt3QkFBRUksU0FBUztvQkFBSztvQkFBR0YsT0FBTztnQkFBSztZQUN6RUcsUUFBUSxJQUFNUCxRQUFRQyxPQUFPLENBQUM7b0JBQUVDLE1BQU07d0JBQUVDLE1BQU07d0JBQU1HLFNBQVM7b0JBQUs7b0JBQUdGLE9BQU87d0JBQUVJLFNBQVM7b0JBQTBCO2dCQUFFO1lBQ25IQyxvQkFBb0IsSUFBTVQsUUFBUUMsT0FBTyxDQUFDO29CQUFFQyxNQUFNO3dCQUFFQyxNQUFNO3dCQUFNRyxTQUFTO29CQUFLO29CQUFHRixPQUFPO3dCQUFFSSxTQUFTO29CQUEwQjtnQkFBRTtZQUMvSEUsU0FBUyxJQUFNVixRQUFRQyxPQUFPLENBQUM7b0JBQUVHLE9BQU87Z0JBQUs7WUFDN0NPLG1CQUFtQixJQUFPO29CQUFFVCxNQUFNO3dCQUFFVSxjQUFjOzRCQUFFQyxhQUFhLEtBQU87d0JBQUU7b0JBQUU7Z0JBQUU7UUFDaEY7UUFDQUMsTUFBTSxJQUFPO2dCQUNYQyxRQUFRLElBQU87d0JBQUVDLElBQUksSUFBTztnQ0FBRUMsUUFBUSxJQUFNakIsUUFBUUMsT0FBTyxDQUFDO3dDQUFFQyxNQUFNO3dDQUFNRSxPQUFPOzRDQUFFSSxTQUFTO3dDQUEwQjtvQ0FBRTs0QkFBRztvQkFBRztnQkFDOUhVLFFBQVEsSUFBTzt3QkFBRUgsUUFBUSxJQUFPO2dDQUFFRSxRQUFRLElBQU1qQixRQUFRQyxPQUFPLENB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T0FBT3hDO0lBQzNDLE1BQU0sRUFBRS9CLElBQUksRUFBRUUsS0FBSyxFQUFFLEdBQUcsTUFBTXdCLFNBQzNCZCxJQUFJLENBQUMsWUFDTEMsTUFBTSxDQUFDLCtDQUNQQyxFQUFFLENBQUMsTUFBTWlCLFFBQ1RoQixNQUFNO0lBRVQsSUFBSWIsT0FBTyxNQUFNQTtJQUNqQixPQUFPRjtBQUNULEVBQUM7QUFFTSxNQUFNd0UscUJBQXFCLE9BQU96QztJQUN2QyxNQUFNLEVBQUUvQixJQUFJLEVBQUVFLEtBQUssRUFBRSxHQUFHLE1BQU13QixTQUMzQmQsSUFBSSxDQUFDLGVBQ0xDLE1BQU0sQ0FBRSxrSEFPUkMsRUFBRSxDQUFDLGNBQWNpQixRQUNqQmIsS0FBSyxDQUFDLGNBQWM7UUFBRThDLFdBQVc7SUFBTTtJQUUxQyxJQUFJOUQsT0FBTyxNQUFNQTtJQUNqQixPQUFPRjtBQUNULEVBQUM7QUFFTSxNQUFNeUUsa0JBQWtCO0lBQzdCLG1FQUFtRTtJQUNuRSxNQUFNLEVBQUV2RSxLQUFLLEVBQUUsR0FBRyxNQUFNd0IsU0FDckJkLElBQUksQ0FBQyxZQUNMSyxNQUFNLENBQUM7UUFBRXdCLGtCQUFrQjtJQUFFLEdBQzdCaUMsR0FBRyxDQUFDLE1BQU0sd0NBQXdDLG1CQUFtQjs7SUFFeEUsSUFBSXhFLE9BQU8sTUFBTUE7SUFDakIsT0FBTztBQUNULEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9zdXBhYmFzZS50cz8wNmUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCwgU3VwYWJhc2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbi8vIEZ1bmNpw7NuIHBhcmEgY3JlYXIgdW4gY2xpZW50ZSBtb2NrIGN1YW5kbyBTdXBhYmFzZSBubyBlc3TDoSBjb25maWd1cmFkb1xuY29uc3QgY3JlYXRlTW9ja0NsaWVudCA9ICgpOiBTdXBhYmFzZUNsaWVudCA9PiB7XG4gIGNvbnN0IG1vY2tDbGllbnQgPSB7XG4gICAgYXV0aDoge1xuICAgICAgZ2V0VXNlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yOiBudWxsIH0pLFxuICAgICAgZ2V0U2Vzc2lvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sIGVycm9yOiBudWxsIH0pLFxuICAgICAgc2lnblVwOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pLFxuICAgICAgc2lnbkluV2l0aFBhc3N3b3JkOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pLFxuICAgICAgc2lnbk91dDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZXJyb3I6IG51bGwgfSksXG4gICAgICBvbkF1dGhTdGF0ZUNoYW5nZTogKCkgPT4gKHsgZGF0YTogeyBzdWJzY3JpcHRpb246IHsgdW5zdWJzY3JpYmU6ICgpID0+IHt9IH0gfSB9KVxuICAgIH0sXG4gICAgZnJvbTogKCkgPT4gKHtcbiAgICAgIHNlbGVjdDogKCkgPT4gKHsgZXE6ICgpID0+ICh7IHNpbmdsZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pIH0pIH0pLFxuICAgICAgaW5zZXJ0OiAoKSA9PiAoeyBzZWxlY3Q6ICgpID0+ICh7IHNpbmdsZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogbnVsbCwgZXJyb3I6IHsgbWVzc2FnZTogJ1N1cGFiYXNlIG5vdCBjb25maWd1cmVkJyB9IH0pIH0pIH0pLFxuICAgICAgdXBkYXRlOiAoKSA9PiAoeyBlcTogKCkgPT4gKHsgc2VsZWN0OiAoKSA9PiAoeyBzaW5nbGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6IG51bGwsIGVycm9yOiB7IG1lc3NhZ2U6ICdTdXBhYmFzZSBub3QgY29uZmlndXJlZCcgfSB9KSB9KSB9KSB9KSxcbiAgICAgIG9yZGVyOiAoKSA9PiAoeyBsaW1pdDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogW10sIGVycm9yOiBudWxsIH0pIH0pXG4gICAgfSlcbiAgfSBhcyBhbnlcbiAgXG4gIHJldHVybiBtb2NrQ2xpZW50XG59XG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWVxuXG5sZXQgc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50XG5cbmlmIChzdXBhYmFzZVVybCAmJiBzdXBhYmFzZUFub25LZXkgJiYgc3VwYWJhc2VVcmwgIT09ICd5b3VyX3N1cGFiYXNlX3Byb2plY3RfdXJsX2hlcmUnICYmIHN1cGFiYXNlQW5vbktleSAhPT0gJ3lvdXJfc3VwYWJhc2VfYW5vbl9rZXlfaGVyZScpIHtcbiAgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSlcbn0gZWxzZSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIFN1cGFiYXNlIG5vdCBjb25maWd1cmVkLiBVc2luZyBtb2NrIGNsaWVudC4gUGxlYXNlIHNldCBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIGluIC5lbnYubG9jYWwnKVxuICB9XG4gIHN1cGFiYXNlID0gY3JlYXRlTW9ja0NsaWVudCgpXG59XG5cbmV4cG9ydCB7IHN1cGFiYXNlIH1cblxuLy8gVGlwb3MgcGFyYSBsYSBiYXNlIGRlIGRhdG9zXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgdXNlcm5hbWU6IHN0cmluZ1xuICB2ZXJpZmllZDogYm9vbGVhblxuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG4gIGF2YXRhcl91cmw/OiBzdHJpbmdcbiAgc3BpbnNfdXNlZF90b2RheTogbnVtYmVyXG4gIGxhc3Rfc3Bpbl9hdD86IHN0cmluZ1xuICBpbnZpdGF0aW9uX2NvZGU/OiBzdHJpbmdcbiAgaW52aXRlZF9ieT86IHN0cmluZ1xuICBib251c19zcGluczogbnVtYmVyXG4gIHRvdGFsX2ludml0ZXM6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNwaW4ge1xuICBpZDogc3RyaW5nXG4gIHVzZXJfaWQ6IHN0cmluZ1xuICBwcml6ZV90eXBlOiBzdHJpbmdcbiAgcHJpemVfbGFiZWw6IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgaXBfYWRkcmVzcz86IHN0cmluZ1xuICB1c2VyX2FnZW50Pzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpemUge1xuICBpZDogc3RyaW5nXG4gIHR5cGU6IHN0cmluZ1xuICBsYWJlbDogc3RyaW5nXG4gIHByb2JhYmlsaXR5OiBudW1iZXJcbiAgbWF4X3dpbm5lcnM6IG51bWJlclxuICBjdXJyZW50X3dpbm5lcnM6IG51bWJlclxuICBhY3RpdmU6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaW5uZXIge1xuICBpZDogc3RyaW5nXG4gIHVzZXJfaWQ6IHN0cmluZ1xuICB1c2VybmFtZTogc3RyaW5nXG4gIGF2YXRhcl91cmw/OiBzdHJpbmdcbiAgcHJpemVfdHlwZTogc3RyaW5nXG4gIHByaXplX2xhYmVsOiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52aXRhdGlvbiB7XG4gIGlkOiBzdHJpbmdcbiAgaW52aXRlcl9pZDogc3RyaW5nXG4gIGludml0ZWVfaWQ6IHN0cmluZ1xuICBpbnZpdGF0aW9uX2NvZGU6IHN0cmluZ1xuICB1c2VkX2F0OiBzdHJpbmdcbiAgYm9udXNfZ3JhbnRlZDogYm9vbGVhblxuICBjcmVhdGVkX2F0OiBzdHJpbmdcbn1cblxuLy8gRnVuY2lvbmVzIGRlIHV0aWxpZGFkIHBhcmEgU3VwYWJhc2VcbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlciA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcbiAgcmV0dXJuIHVzZXJcbn1cblxuZXhwb3J0IGNvbnN0IHNpZ25PdXQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbk91dCgpXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3Jcbn1cblxuZXhwb3J0IGNvbnN0IGdldFVzZXJQcm9maWxlID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgIC5zaW5nbGUoKVxuICBcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGUgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VXNlcj4pID0+IHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKVxuICBcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgY29uc3QgY2FuVXNlclNwaW4gPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgIC5zZWxlY3QoJ3NwaW5zX3VzZWRfdG9kYXksIGxhc3Rfc3Bpbl9hdCwgYm9udXNfc3BpbnMnKVxuICAgIC5lcSgnaWQnLCB1c2VySWQpXG4gICAgLnNpbmdsZSgpXG4gIFxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gIFxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gIGNvbnN0IGxhc3RTcGluID0gcHJvZmlsZS5sYXN0X3NwaW5fYXQgPyBuZXcgRGF0ZShwcm9maWxlLmxhc3Rfc3Bpbl9hdCkgOiBudWxsXG4gIGNvbnN0IHNwaW5zVXNlZCA9IHByb2ZpbGUuc3BpbnNfdXNlZF90b2RheSB8fCAwXG4gIGNvbnN0IGJvbnVzU3BpbnMgPSBwcm9maWxlLmJvbnVzX3NwaW5zIHx8IDBcbiAgY29uc3QgdG90YWxBdmFpbGFibGVTcGlucyA9IDIgKyBib251c1NwaW5zXG4gIFxuICAvLyBWZXJpZmljYXIgbMOtbWl0ZSB0b3RhbCAoMiBnaXJvcyBiYXNlICsgZ2lyb3MgYm9udXMpXG4gIGlmIChzcGluc1VzZWQgPj0gdG90YWxBdmFpbGFibGVTcGlucykge1xuICAgIHJldHVybiB7XG4gICAgICBjYW5TcGluOiBmYWxzZSxcbiAgICAgIHJlYXNvbjogYEhhcyB1c2FkbyB0b2RvcyB0dXMgZ2lyb3MgZGlzcG9uaWJsZXMgKCR7dG90YWxBdmFpbGFibGVTcGluc30pYCxcbiAgICAgIG5leHRTcGluQXQ6IG51bGwsXG4gICAgICByZW1haW5pbmdTcGluczogMCxcbiAgICAgIGJvbnVzU3BpbnM6IGJvbnVzU3BpbnNcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFZlcmlmaWNhciBzaSBoYW4gcGFzYWRvIDIgaG9yYXMgZGVzZGUgZWwgw7psdGltbyBnaXJvIChzb2xvIHNpIHlhIGhhIGdpcmFkbylcbiAgaWYgKGxhc3RTcGluICYmIHNwaW5zVXNlZCA+IDApIHtcbiAgICBjb25zdCB0aW1lRGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBsYXN0U3Bpbi5nZXRUaW1lKClcbiAgICBjb25zdCBob3Vyc0RpZmYgPSB0aW1lRGlmZiAvICgxMDAwICogNjAgKiA2MClcbiAgICBcbiAgICBpZiAoaG91cnNEaWZmIDwgMikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2FuU3BpbjogZmFsc2UsXG4gICAgICAgIHJlYXNvbjogYERlYmVzIGVzcGVyYXIgMiBob3JhcyBlbnRyZSBnaXJvcy4gR2lyb3MgcmVzdGFudGVzOiAke3RvdGFsQXZhaWxhYmxlU3BpbnMgLSBzcGluc1VzZWR9YCxcbiAgICAgICAgbmV4dFNwaW5BdDogbmV3IERhdGUobGFzdFNwaW4uZ2V0VGltZSgpICsgKDIgKiA2MCAqIDYwICogMTAwMCkpLFxuICAgICAgICByZW1haW5pbmdTcGluczogdG90YWxBdmFpbGFibGVTcGlucyAtIHNwaW5zVXNlZCxcbiAgICAgICAgYm9udXNTcGluczogYm9udXNTcGluc1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBjYW5TcGluOiB0cnVlLFxuICAgIHJlYXNvbjogbnVsbCxcbiAgICBuZXh0U3BpbkF0OiBudWxsLFxuICAgIHJlbWFpbmluZ1NwaW5zOiB0b3RhbEF2YWlsYWJsZVNwaW5zIC0gc3BpbnNVc2VkLFxuICAgIGJvbnVzU3BpbnM6IGJvbnVzU3BpbnNcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVjb3JkU3BpbiA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgcHJpemVUeXBlOiBzdHJpbmcsIHByaXplTGFiZWw6IHN0cmluZykgPT4ge1xuICAvLyBQcmltZXJvIG9idGVuZXIgZWwgcGVyZmlsIGFjdHVhbFxuICBjb25zdCB7IGRhdGE6IHByb2ZpbGUsIGVycm9yOiBwcm9maWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAuc2VsZWN0KCdzcGluc191c2VkX3RvZGF5LCBib251c19zcGlucycpXG4gICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAuc2luZ2xlKClcbiAgXG4gIGlmIChwcm9maWxlRXJyb3IpIHRocm93IHByb2ZpbGVFcnJvclxuICBcbiAgY29uc3QgY3VycmVudFNwaW5zID0gcHJvZmlsZS5zcGluc191c2VkX3RvZGF5IHx8IDBcbiAgY29uc3QgYm9udXNTcGlucyA9IHByb2ZpbGUuYm9udXNfc3BpbnMgfHwgMFxuICBcbiAgLy8gSW5zZXJ0YXIgZWwgcmVnaXN0cm8gZGVsIGdpcm9cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnc3BpbnMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgcHJpemVfdHlwZTogcHJpemVUeXBlLFxuICAgICAgcHJpemVfbGFiZWw6IHByaXplTGFiZWwsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKVxuICBcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICBcbiAgLy8gU2kgc2UgdXPDsyB1biBnaXJvIGJvbnVzLCByZWR1Y2lyIGxvcyBib251cyBzcGluc1xuICBsZXQgdXBkYXRlRGF0YTogYW55ID0ge1xuICAgIGxhc3Rfc3Bpbl9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHNwaW5zX3VzZWRfdG9kYXk6IGN1cnJlbnRTcGlucyArIDFcbiAgfVxuICBcbiAgLy8gU2kgeWEgdXPDsyBsb3MgMiBnaXJvcyBiYXNlIHkgZXN0w6EgdXNhbmRvIGJvbnVzXG4gIGlmIChjdXJyZW50U3BpbnMgPj0gMiAmJiBib251c1NwaW5zID4gMCkge1xuICAgIHVwZGF0ZURhdGEuYm9udXNfc3BpbnMgPSBib251c1NwaW5zIC0gMVxuICB9XG4gIFxuICAvLyBBY3R1YWxpemFyIGVsIHBlcmZpbCBkZWwgdXN1YXJpb1xuICBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgLnVwZGF0ZSh1cGRhdGVEYXRhKVxuICAgIC5lcSgnaWQnLCB1c2VySWQpXG4gIFxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgY29uc3QgZ2V0UmVjZW50V2lubmVycyA9IGFzeW5jIChsaW1pdDogbnVtYmVyID0gMTApID0+IHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnd2lubmVycycpXG4gICAgLnNlbGVjdChgXG4gICAgICAqLFxuICAgICAgcHJvZmlsZXMgKFxuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgYXZhdGFyX3VybFxuICAgICAgKVxuICAgIGApXG4gICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgLmxpbWl0KGxpbWl0KVxuICBcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgY29uc3QgYWRkV2lubmVyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBwcml6ZVR5cGU6IHN0cmluZywgcHJpemVMYWJlbDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3dpbm5lcnMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgcHJpemVfdHlwZTogcHJpemVUeXBlLFxuICAgICAgcHJpemVfbGFiZWw6IHByaXplTGFiZWwsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKVxuICBcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICByZXR1cm4gZGF0YVxufVxuXG4vLyBGdW5jaW9uZXMgcGFyYSBlbCBzaXN0ZW1hIGRlIGludml0YWNpb25lc1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NJbnZpdGF0aW9uQ29kZSA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgaW52aXRhdGlvbkNvZGU6IHN0cmluZykgPT4ge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ3Byb2Nlc3NfaW52aXRhdGlvbicsIHtcbiAgICBpbnZpdGVlX2lkOiB1c2VySWQsXG4gICAgaW52aXRhdGlvbl9jb2RlX2lucHV0OiBpbnZpdGF0aW9uQ29kZVxuICB9KVxuICBcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgY29uc3QgZ2V0VXNlckludml0YXRpb25TdGF0cyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgLnNlbGVjdCgnaW52aXRhdGlvbl9jb2RlLCB0b3RhbF9pbnZpdGVzLCBib251c19zcGlucycpXG4gICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAuc2luZ2xlKClcbiAgXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgcmV0dXJuIGRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IGdldFVzZXJJbnZpdGF0aW9ucyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdpbnZpdGF0aW9ucycpXG4gICAgLnNlbGVjdChgXG4gICAgICAqLFxuICAgICAgcHJvZmlsZXMhaW52aXRhdGlvbnNfaW52aXRlZV9pZF9ma2V5IChcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIGNyZWF0ZWRfYXRcbiAgICAgIClcbiAgICBgKVxuICAgIC5lcSgnaW52aXRlcl9pZCcsIHVzZXJJZClcbiAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgcmV0dXJuIGRhdGFcbn1cblxuZXhwb3J0IGNvbnN0IHJlc2V0RGFpbHlTcGlucyA9IGFzeW5jICgpID0+IHtcbiAgLy8gRXN0YSBmdW5jacOzbiBzZSBwdWVkZSBsbGFtYXIgZGlhcmlhbWVudGUgcGFyYSByZXNldGVhciBsb3MgZ2lyb3NcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgIC51cGRhdGUoeyBzcGluc191c2VkX3RvZGF5OiAwIH0pXG4gICAgLm5lcSgnaWQnLCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJykgLy8gQWN0dWFsaXphciB0b2Rvc1xuICBcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICByZXR1cm4gdHJ1ZVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNyZWF0ZU1vY2tDbGllbnQiLCJtb2NrQ2xpZW50IiwiYXV0aCIsImdldFVzZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRhdGEiLCJ1c2VyIiwiZXJyb3IiLCJnZXRTZXNzaW9uIiwic2Vzc2lvbiIsInNpZ25VcCIsIm1lc3NhZ2UiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJzaWduT3V0Iiwib25BdXRoU3RhdGVDaGFuZ2UiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImluc2VydCIsInVwZGF0ZSIsIm9yZGVyIiwibGltaXQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlIiwiY29uc29sZSIsIndhcm4iLCJnZXRDdXJyZW50VXNlciIsImdldFVzZXJQcm9maWxlIiwidXNlcklkIiwidXBkYXRlVXNlclByb2ZpbGUiLCJ1cGRhdGVzIiwiY2FuVXNlclNwaW4iLCJwcm9maWxlIiwibm93IiwiRGF0ZSIsImxhc3RTcGluIiwibGFzdF9zcGluX2F0Iiwic3BpbnNVc2VkIiwic3BpbnNfdXNlZF90b2RheSIsImJvbnVzU3BpbnMiLCJib251c19zcGlucyIsInRvdGFsQXZhaWxhYmxlU3BpbnMiLCJjYW5TcGluIiwicmVhc29uIiwibmV4dFNwaW5BdCIsInJlbWFpbmluZ1NwaW5zIiwidGltZURpZmYiLCJnZXRUaW1lIiwiaG91cnNEaWZmIiwicmVjb3JkU3BpbiIsInByaXplVHlwZSIsInByaXplTGFiZWwiLCJwcm9maWxlRXJyb3IiLCJjdXJyZW50U3BpbnMiLCJ1c2VyX2lkIiwicHJpemVfdHlwZSIsInByaXplX2xhYmVsIiwiY3JlYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwidXBkYXRlRGF0YSIsImdldFJlY2VudFdpbm5lcnMiLCJhc2NlbmRpbmciLCJhZGRXaW5uZXIiLCJwcm9jZXNzSW52aXRhdGlvbkNvZGUiLCJpbnZpdGF0aW9uQ29kZSIsInJwYyIsImludml0ZWVfaWQiLCJpbnZpdGF0aW9uX2NvZGVfaW5wdXQiLCJnZXRVc2VySW52aXRhdGlvblN0YXRzIiwiZ2V0VXNlckludml0YXRpb25zIiwicmVzZXREYWlseVNwaW5zIiwibmVxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/supabase.ts\n"));

/***/ })

});